<ng-container [ngSwitch]="variant">
  <div class="bg-light pt-3 pb-5">
    <div class="container">
      <div class="heading heading-flex heading-border mb-3">
        <div class="heading-left">
          <h2 class="title">{{ title }}</h2>
        </div>
      </div>

      <div class="tab-content tab-content-carousel">
        <div class="tab-pane p-0 fade show active" id="hot-all-tab" role="tabpanel" aria-labelledby="hot-all-link">

          <!-- üö¶ Solo renderiza el carrusel cuando hay datos -->
          <ng-container *ngIf="elements?.length; else skeleton">
            <div
              #owlEl
              class="owl-carousel owlprod owl-simple carousel-equal-height carousel-with-shadow"
              data-owl-options='{
                "nav": false,
                "dots": true,
                "margin": 20,
                "loop": false,
                "responsive": {
                  "0":   { "items": 2 },
                  "480": { "items": 2 },
                  "768": { "items": 3 },
                  "992": { "items": 4 },
                  "1280":{ "items": 5, "nav": true }
                }
              }'>

              <div class="product" *ngFor="let product of elements; trackBy: trackById">
                <figure class="product-media">
                  <span class="product-label label-sale">Promoci√≥n</span>
                  <a [routerLink]="['/product', product.slug]">
                    <img [src]="product.url" [alt]="product.alt || product.name" class="product-image" loading="lazy">
                  </a>

                  <div class="product-action">
                    <a [routerLink]="['/product', product.slug]" class="btn btn-primary w-100 btnverprod" title="Ver producto">
                      <span >Ver producto</span>
                    </a>
                  </div>
                </figure>

                <div class="product-body">
                  <div class="product-cat" *ngIf="product.category_name">
                    <a [routerLink]="['/category', product.cat_ref]">{{ product.category_name }}</a>
                  </div>

                  <h3 class="product-title">
                    <a [routerLink]="['/product', product.slug]">
                      {{ truncateText(product.name, 75) }}
                    </a>
                  </h3>

                  <div class="product-price mt-1">
                    <span class="new-price">
                      {{ product.pricemostrar | currency:'COP':'symbol':'1.0-0':'es-CO' }}
                    </span>
                    
                    <span class="old-price">
                      {{ product.pricemostrartachado | currency:'COP':'symbol':'1.0-0':'es-CO' }}
                    </span>
                  </div>

                  <div class="ratings-container">
                    <div class="ratings">
                      <div class="ratings-val" [style.width.%]="100"></div>
                    </div>
                    <span class="ratings-text">(2 Reviews)</span>
                  </div>
                </div>
              </div><!-- .product -->
            </div><!-- .owl-carousel -->
          </ng-container>

          <!-- Skeleton mientras carga -->
          <ng-template #skeleton>
            <div class="d-flex gap-3">
              <div class="skeleton-card" *ngFor="let i of [1,2,3,4,5]" style="width:200px;height:300px;background:#eee;border-radius:8px;"></div>
            </div>
          </ng-template>

        </div><!-- .tab-pane -->
      </div><!-- .tab-content -->
    </div><!-- .container -->
  </div><!-- .bg-light -->
</ng-container>
