<main class="main">
    <nav aria-label="breadcrumb" class="breadcrumb-nav">
      <div class="container">
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a routerLink="/">Home</a></li>
          <li class="breadcrumb-item"><a href="#">Tienda</a></li>
          <li class="breadcrumb-item active">Carrito de compras</li>
        </ol>
      </div>
    </nav>
  
    <div class="page-content">
      <div class="cart">
        <div class="container">
          <div class="row" *ngIf="cart.length > 0; else emptyCart">
            <div class="col-lg-9">
              <table class="table table-cart table-mobile">
                <thead>
                  <tr>
                    <th>Producto</th>
                    <th>Precio</th>
                    <th>Cantidad</th>
                    <th>Total</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of cart">
                    <td class="product-col">
                      <div class="product">
                        <figure class="product-media">
                          <a [routerLink]="['/product', item.slug]">
                            <img [src]="item.image" alt="Product image">
                          </a>
                        </figure>
                        <h3 class="product-title">
                          <a [routerLink]="['/product', item.slug]">{{ item.name }}</a>
                          <br />
                          <small *ngIf="item.color">Color: {{ item.color }}</small>
                          <br />
                          <small *ngIf="item.measure">Talla: {{ item.measure }}</small>
                        </h3>
                      </div>
                    </td>
                    <td class="price-col">{{ item.price |currency:'COP':'symbol':'1.0-0':'es-CO' }}</td>
                    <td class="quantity-col">
                      <div class="cart-product-quantity">
                        <input
                          type="number"
                          class="form-control"
                          [(ngModel)]="item.quantity"
                          (change)="updateQuantity(item, item.quantity)"
                          min="1"
                          required
                        />
                      </div>
                    </td>
                    <td class="total-col">{{ item.quantity * item.price |currency:'COP':'symbol':'1.0-0':'es-CO' }}</td>
                    <td class="remove-col">
                      <button class="btn-remove" (click)="removeItem(item)">
                        <i class="icon-close"></i>
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
  
              <div class="cart-bottom">
                <a routerLink="/category/sabanas" class="btn btn-outline-dark-2"><span>CONTINUAR COMPRANDO</span><i class="icon-refresh"></i></a>
              </div>
            </div>
  
            <aside class="col-lg-3">
              <div class="summary summary-cart">
                <h3 class="summary-title">Cart Total</h3>
                <table class="table table-summary">
                  <tbody>
                    <tr class="summary-subtotal">
                      <td>Subtotal:</td>
                      <td>{{ getTotal() |currency:'COP':'symbol':'1.0-0':'es-CO' }}</td>
                    </tr>
                    <tr class="summary-total">
                      <td>Total:</td>
                      <td>{{ getTotal() |currency:'COP':'symbol':'1.0-0':'es-CO' }}</td>
                    </tr>
                  </tbody>
                </table>
  
                <a routerLink="/checkout" class="btn btn-outline-primary-2 btn-order btn-block">IR A PAGAR</a>
              </div>
            </aside>
          </div>
  
          <ng-template #emptyCart>
            <div class="text-center py-5">
              <h4>Tu carrito está vacío.</h4>
              <a routerLink="/" class="btn btn-outline-primary mt-3">Volver a la tienda</a>
            </div>
          </ng-template>
        </div>
      </div>
    </div>
  </main>
  